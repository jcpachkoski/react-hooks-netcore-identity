(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/logo.3d3562c7.svg"},45:function(e,t,a){e.exports=a(95)},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(39),r=a.n(c),i=a(16),o=a(2),s=a(9),u=a(11),d=a(1),m=a(3),b=a(40),f=a.n(b),p=function(){return l.a.createElement(s.AuthenticationContext.Consumer,null,(function(e){return l.a.createElement("div",{className:"w60 center"},e.oidcUser?l.a.createElement("div",{className:"autogrid has-gutter-l"},l.a.createElement("div",null,l.a.createElement("h1",null,l.a.createElement("img",{src:f.a,alt:"logo"})," Stuff")),l.a.createElement("div",{className:"txtright"},l.a.createElement("div",null,e.oidcUser.profile.name),l.a.createElement("button",{className:"btn--inverse",onClick:e.logout},"Logout"))):l.a.createElement("button",{className:"btn--primary",onClick:e.login},"Login"))}))},h=function(e){return l.a.createElement("div",{className:"alert--danger grid"},l.a.createElement("span",null,e.msg?e.msg:"Page not found."),l.a.createElement(i.b,{className:"right",to:"/"},l.a.createElement("span",{className:"btn--info"},"Reset")))},g=function(e){return l.a.createElement("form",{onSubmit:e.onSubmit,onKeyDown:function(t){13!==t.keyCode?27===t.keyCode&&e.closeModal():"otherInfo"!==t.target.id&&(t.preventDefault(),e.onSubmit(t))},className:"alert"},l.a.createElement("header",{className:"clearfix"},l.a.createElement("button",{className:"fr btn--danger",onClick:e.closeModal}," X "),l.a.createElement("div",{className:"u-bold"},l.a.createElement("div",{className:e.title.indexOf("Deleting")>-1?"alert--danger":"alert--primary"},e.title),l.a.createElement("div",{className:"alert--danger"},e.msgErr))),l.a.createElement("div",null,l.a.createElement("label",{className:"u-bold"},"Owner:")),l.a.createElement("div",{className:"tag"},e.datum.user?e.datum.user.givenName:"Current user"),l.a.createElement("div",null,l.a.createElement("label",{className:"u-bold"},"Label:")),l.a.createElement("input",{className:"w100",autoFocus:!0,type:"text",maxLength:"79",name:"label",id:"label",placeholder:"Label",value:e.datum.label,onChange:e.handleChange,disabled:e.disabled}),l.a.createElement("div",null,l.a.createElement("label",{className:"u-bold txtright"},"Description:")),l.a.createElement("input",{className:"w100",type:"text",maxLength:"79",name:"description",id:"description",placeholder:"Description",value:e.datum.description,onChange:e.handleChange,disabled:e.disabled}),l.a.createElement("div",null,l.a.createElement("label",{className:"u-bold txtright"},"Other info:")),l.a.createElement("textarea",{className:"w100",rows:"5",maxLength:"399",name:"otherInfo",id:"otherInfo",placeholder:"Other info",value:e.datum.otherInfo,onChange:e.handleChange,disabled:e.disabled}),l.a.createElement("footer",{className:"clearfix"},l.a.createElement("button",{className:"fl btn--danger",onClick:e.closeModal},"Cancel"),l.a.createElement("button",{className:"fr btn--success"},"Confirm")))},E=function(e){var t=e.currentDatum,a=Object(n.useState)(t),c=Object(m.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),b=s[0],f=s[1];Object(n.useEffect)((function(){i(t),f("")}),[t]);return l.a.createElement("div",{className:"w60 center"},l.a.createElement(g,{isOpen:e.isOpen,title:"Creating a new stuff",msgErr:b,datum:r,handleChange:function(e){var t=e.target,a=t.name,n=t.value;i(Object(d.a)(Object(d.a)({},r),{},Object(u.a)({},a,n))),f("")},closeModal:e.closeModal,disabled:"",onSubmit:function(t){t.preventDefault(),/\S/.test(r.label)?e.onSubmit(r):f("The label cannot be empty.")}}))},O=function(e){var t=e.currentDatum,a=Object(n.useState)(t),c=Object(m.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){i(t)}),[t]),l.a.createElement("div",{className:"w60 center"},l.a.createElement(g,{isOpen:e.isOpen,title:"Reading a stuff",datum:r,handleChange:null,closeModal:e.closeModal,disabled:"disabled",onSubmit:e.onSubmit}))},v=function(e){var t=e.currentDatum,a=Object(n.useState)(t),c=Object(m.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),b=s[0],f=s[1];Object(n.useEffect)((function(){i(t),f("")}),[t]);return l.a.createElement("div",{className:"w60 center"},l.a.createElement(g,{isOpen:e.isOpen,title:"Updating a stuff",msgErr:b,datum:r,handleChange:function(e){var t=e.target,a=t.name,n=t.value;i(Object(d.a)(Object(d.a)({},r),{},Object(u.a)({},a,n))),f("")},closeModal:e.closeModal,disabled:"",onSubmit:function(a){a.preventDefault(),/\S/.test(r.label)?JSON.stringify(t)!==JSON.stringify(r)?e.onSubmit(r.id,r):f("No significant changes..."):f("The label cannot be empty.")}}))},j=function(e){var t=e.currentDatum,a=Object(n.useState)(t),c=Object(m.a)(a,2),r=c[0],i=c[1];Object(n.useEffect)((function(){i(t)}),[t]);return l.a.createElement("div",{className:"w60 center"},l.a.createElement(g,{isOpen:e.isOpen,title:"Deleting a stuff",datum:r,handleChange:null,closeModal:e.closeModal,disabled:"disabled",onSubmit:function(t){t.preventDefault(),e.onSubmit(r.id)}}))},N=function(e){return l.a.createElement("table",{className:"table table--zebra",summary:"List of stuff"},l.a.createElement("caption",null,".List of stuff"),l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Label"),l.a.createElement("th",{scope:"col"},"Description"),l.a.createElement("th",{scope:"col"},"CreatedAt"),l.a.createElement("th",{scope:"col"},"UpdatedAt"),l.a.createElement("th",{colSpan:"3"}))),l.a.createElement("tbody",null,e.datumList.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{"data-label":"Label"},t.label),l.a.createElement("td",{"data-label":"Descpription"},t.description),l.a.createElement("td",{"data-label":"createdAt"},t.createdAt?l.a.createElement("code",null,new Date(t.createdAt).toLocaleString()):"-"),l.a.createElement("td",{"data-label":"updatedAt"},t.updatedAt?l.a.createElement("code",null,new Date(t.updatedAt).toLocaleString()):"-"),l.a.createElement("td",null,l.a.createElement("button",{className:"btn--success",value:t.id,onClick:function(){return e.handleRead(t)}},"Read")),t.user.id===e.currentUserId?l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,l.a.createElement("button",{className:"btn--warning",value:t.id,onClick:function(){return e.handleUpdate(t)}},"Update")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn--danger",onClick:function(){return e.handleDelete(t)}},"Delete"))):l.a.createElement("td",{colSpan:"2"},"Owned by: ",l.a.createElement("code",null,t.user.givenName," ",t.user.familyName)))}))))},y=a(25),S=a.n(y),w=a(42),_=a(43),C=a.n(_),L=a(44),k={isLoading:!1,error:null,stuff:null},D=function(e,t){switch(t.type){case"PENDING":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,error:null});case"post":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,error:null,stuff:Object(d.a)(Object(d.a)({},e.stuff),{},{datumList:[t.payload].concat(Object(L.a)(e.stuff.datumList))})});case"get":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,error:null,stuff:t.payload});case"put":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,error:null,stuff:Object(d.a)(Object(d.a)({},e.stuff),{},{datumList:e.stuff.datumList.map((function(e){return e.id===t.id?t.payload:e}))})});case"delete":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,error:null,stuff:Object(d.a)(Object(d.a)({},e.stuff),{},{datumList:e.stuff.datumList.filter((function(e){return e.id!==t.id}))})});case"REJECTED":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},x=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),l=a[0],c=a[1],r=Object(n.useReducer)(D,k),i=Object(m.a)(r,2),o=i[0],s=i[1];return Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(w.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"PENDING"}),t.prev=1,t.next=4,C()(l);case 4:a=t.sent,e||s({type:l.method,payload:a.data,id:l.url.split("/").pop()}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||s({type:"REJECTED",payload:M(t.t0)});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[l]),[o,c]},M=function(e){return e.response&&e.response.data&&e.response.data.error?e.response.data.error:e.message?e.message:e||"An error occured. Try again later."},I="api/stuff".indexOf("mock")>-1,U=I?".json":"",R=function(){var e="api/stuff"+U,t={label:"",description:"",otherInfo:""},a=Object(n.useState)({filter:""}),c=Object(m.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(t),b=Object(m.a)(o,2),f=b[0],g=b[1],y=Object(n.useState)(!1),S=Object(m.a)(y,2),w=S[0],_=S[1],C=Object(n.useState)(!1),L=Object(m.a)(C,2),k=L[0],D=L[1],M=Object(n.useState)(!1),R=Object(m.a)(M,2),A=R[0],z=R[1],P=Object(n.useState)(!1),J=Object(m.a)(P,2),T=J[0],F=J[1],B=Object(s.useReactOidc)().oidcUser,W={Authorization:B?"Bearer ".concat(B.access_token):"NoAuth"},G=x({url:e,method:"get",headers:W,data:{}}),K=Object(m.a)(G,2),X=K[0],$=X.isLoading,q=X.error,H=X.stuff,Q=K[1],V=function(){i({filter:""}),Q({url:e,method:"get",headers:W,data:{}})},Y=function(t){var a="+"===t.currentTarget.value?H.page+1:H.page-1;Q({url:"".concat(e,"?page=").concat(a),method:"get",headers:W,data:{}}),i({filter:""})},Z=function(){_(!1),F(!1),D(!1),z(!1),g(t)};return q?l.a.createElement(h,{msg:q}):$?l.a.createElement("progress",null):H?w?l.a.createElement(E,{isOpen:w,onSubmit:function(t){_(!w),Q({url:e,method:I?"get":"post",headers:W,data:t})},currentDatum:f,closeModal:Z}):T?l.a.createElement(O,{isOpen:T,onSubmit:Z,currentDatum:f,closeModal:Z}):k?l.a.createElement(v,{isOpen:k,onSubmit:function(t,a){D(!k),Q({url:I?e:"".concat(e,"/").concat(t),method:I?"get":"put",headers:W,data:a})},currentDatum:f,closeModal:Z}):A?l.a.createElement(j,{isOpen:A,onSubmit:function(t){z(!A),Q({url:I?e:"".concat(e,"/").concat(t),method:I?"get":"delete",headers:W,data:{}})},currentDatum:f,closeModal:Z}):l.a.createElement("div",null,l.a.createElement(p,null),l.a.createElement("div",{className:"w60 center"},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),r.filter.length?Q({url:"".concat(e,"?search=").concat(r.filter),method:"get",headers:W,data:{}}):V()},className:"autogrid has-gutter-l"},l.a.createElement("input",{autoFocus:!0,type:"text",maxLength:"20",name:"filter",placeholder:"Filter",value:r.filter,onChange:function(e){var t=e.target,a=t.name,n=t.value;i(Object(d.a)(Object(d.a)({},r),{},Object(u.a)({},a,n)))}}),l.a.createElement("button",{className:"btn--primary"},"Search"),l.a.createElement("button",{className:"btn--info",onClick:V},"Reset"),l.a.createElement("div",null,l.a.createElement("button",{className:"badge--primary",value:"-",onClick:Y,disabled:1===H.page&&"disabled"},l.a.createElement("i",{className:"icon-arrow--left"})),l.a.createElement("span",{className:"tag--warning nowrap"},"Page ",H.page,"/",H.totalPages),l.a.createElement("button",{className:"badge--primary",value:"+",onClick:Y,disabled:H.page===H.totalPages&&"disabled"},l.a.createElement("i",{className:"icon-arrow--right"}))),l.a.createElement("button",{className:"btn--success",onClick:function(){_(!0),g(t)}},"Create")),l.a.createElement(N,{currentUserId:B.profile.sub,datumList:H.datumList,handleRead:function(e){F(!0),g(e)},handleUpdate:function(e){D(!0),g(e)},handleDelete:function(e){z(!0),g(e)}}))):null},A={configurations:[{origin:"http://localhost:3000",config:{client_id:"interactive.public",redirect_uri:"http://localhost:3000/authentication/callback",response_type:"code",post_logout_redirect_uri:"http://localhost:3000/",scope:"openid profile email api offline_access",authority:"https://demo.identityserver.io",silent_redirect_uri:"http://localhost:3000/authentication/silent_callback",automaticSilentRenew:!0,loadUserInfo:!0}},{origin:"https://localhost:5001",config:{client_id:"interactive.public",redirect_uri:"https://localhost:5001/authentication/callback",response_type:"code",post_logout_redirect_uri:"https://localhost:5001/",scope:"openid profile email api offline_access",authority:"https://demo.identityserver.io",silent_redirect_uri:"https://localhost:5001/authentication/silent_callback",automaticSilentRenew:!0,loadUserInfo:!0}},{origin:"https://rita.azurewebsites.net",config:{client_id:"interactive.public",redirect_uri:"https://rita.azurewebsites.net/authentication/callback",response_type:"code",post_logout_redirect_uri:"https://rita.azurewebsites.net/",scope:"openid profile email api offline_access",authority:"https://demo.identityserver.io",silent_redirect_uri:"https://rita.azurewebsites.net/authentication/silent_callback",automaticSilentRenew:!0,loadUserInfo:!0}},{origin:"https://ludal.azurewebsites.net",config:{client_id:"interactive.public",redirect_uri:"https://ludal.azurewebsites.net/authentication/callback",response_type:"code",post_logout_redirect_uri:"https://ludal.azurewebsites.net/",scope:"openid profile email api offline_access",authority:"https://demo.identityserver.io",silent_redirect_uri:"https://ludal.azurewebsites.net/authentication/silent_callback",automaticSilentRenew:!0,loadUserInfo:!0}}]},z=(a(93),a(94),document.location.origin),P=z?A.configurations.find((function(e){return e.origin===z})):A.configurations[0],J=function(){return l.a.createElement(s.AuthenticationProvider,{configuration:P.config,loggerLevel:s.oidcLog.NONE,UserStore:s.InMemoryWebStorage,isEnabled:!0},l.a.createElement(i.a,null,l.a.createElement(o.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/",component:Object(s.withOidcSecure)(R)}),l.a.createElement(o.a,{component:h})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);